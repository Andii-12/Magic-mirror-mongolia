<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal API Module Demo</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: #1a1a1a;
            color: #fff;
            margin: 0;
            padding: 20px;
        }
        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
        }
        .demo-header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #444;
            padding-bottom: 20px;
        }
        .demo-section {
            margin-bottom: 30px;
        }
        .demo-title {
            font-size: 1.5em;
            margin-bottom: 15px;
            color: #4ade80;
        }
        .api-response {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid #3b82f6;
        }
        .user-data {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
        }
        .event-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 10px;
            margin: 8px 0;
            border-left: 4px solid #ef4444;
        }
        .todo-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            padding: 10px;
            margin: 8px 0;
        }
        .color-demo {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
            vertical-align: middle;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-active { background: #4ade80; }
        .status-waiting { background: #f59e0b; }
        .status-inactive { background: #ef4444; }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>üîß Personal API Module Demo</h1>
            <p>This demonstrates how the Personal API module will display data from your API</p>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üì° API Integration</h2>
            <div class="api-response">
                <strong>API URL:</strong> https://calendar-app-production-6d2d.up.railway.app/api/magic-mirror/future-data<br>
                <strong>Status:</strong> <span class="status-indicator status-active"></span>Connected<br>
                <strong>Last Update:</strong> <span id="lastUpdate">Loading...</span>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üë§ Face Recognition Integration</h2>
            <div class="api-response">
                <strong>Current User:</strong> <span id="currentUser">Waiting for face recognition...</span><br>
                <strong>Recognition Status:</strong> <span class="status-indicator status-waiting"></span>Monitoring<br>
                <strong>Status File:</strong> /tmp/magicmirror_face_status.json
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üìÖ Sample Data Display (Andii's Schedule)</h2>
            
            <div class="user-data">
                <h3>üìÖ Upcoming Events</h3>
                <div class="event-item">
                    <div class="color-demo" style="background: #ef4444;"></div>
                    <strong>Go to School</strong><br>
                    <small>Tomorrow (All Day)</small>
                </div>
                <div class="event-item">
                    <div class="color-demo" style="background: #f59e0b;"></div>
                    <strong>Work</strong><br>
                    <small>Tuesday (All Day)</small>
                </div>
                <div class="event-item">
                    <div class="color-demo" style="background: #06b6d4;"></div>
                    <strong>Sport</strong><br>
                    <small>Wednesday (All Day)</small>
                </div>
                <div class="event-item">
                    <div class="color-demo" style="background: #3b82f6;"></div>
                    <strong>hi</strong><br>
                    <small>Thursday (All Day)</small>
                </div>
            </div>

            <div class="user-data">
                <h3>üìã Todo Lists</h3>
                <div class="todo-item">
                    <strong>Meeting - Tomorrow</strong><br>
                    <div style="margin: 8px 0;">
                        <span class="status-indicator status-waiting"></span>Meet Teacher<br>
                        <span class="status-indicator status-waiting"></span>Make Diplom
                    </div>
                </div>
                <div class="todo-item">
                    <strong>Work must finish - Wednesday</strong><br>
                    <div style="margin: 8px 0;">
                        <span class="status-indicator status-waiting"></span>Finish osh.gov.mn<br>
                        <span class="status-indicator status-waiting"></span>Add Media Cosmos.tech.mn
                    </div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">‚öôÔ∏è Module Configuration</h2>
            <div class="api-response">
                <strong>Position:</strong> middle_center<br>
                <strong>Update Interval:</strong> 5 minutes<br>
                <strong>Max Events:</strong> 5<br>
                <strong>Max Lists:</strong> 3<br>
                <strong>Show Completed:</strong> false<br>
                <strong>Animation Speed:</strong> 2000ms
            </div>
        </div>

        <div class="demo-section">
            <h2 class="demo-title">üéØ How It Works</h2>
            <div class="api-response">
                <ol>
                    <li><strong>Face Recognition:</strong> Detects when someone approaches the mirror</li>
                    <li><strong>User Identification:</strong> Recognizes the person and gets their name</li>
                    <li><strong>API Fetch:</strong> Retrieves personal data from your API</li>
                    <li><strong>Data Filtering:</strong> Shows only data for the recognized user</li>
                    <li><strong>Display Update:</strong> Updates the mirror with personal schedule</li>
                    <li><strong>Auto Refresh:</strong> Updates every 5 minutes with fresh data</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        // Update last update time
        document.getElementById('lastUpdate').textContent = new Date().toLocaleString();
        
        // Simulate face recognition status
        function simulateFaceRecognition() {
            const users = ['Andii', 'Jane', 'Guest'];
            const currentUser = users[Math.floor(Math.random() * users.length)];
            document.getElementById('currentUser').textContent = currentUser;
        }
        
        // Update every 3 seconds to show dynamic behavior
        setInterval(simulateFaceRecognition, 3000);
        simulateFaceRecognition(); // Initial call
    </script>
</body>
</html>
